<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Expires" content="Fri, Jan 01 1900 00:00:00 GMT">
		<meta http-equiv="Pragma" content="no-cache">
		<meta http-equiv="Cache-Control" content="no-cache">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta http-equiv="Lang" content="en">
		<meta name="author" content="">
		<meta http-equiv="Reply-to" content="@.com">
		<meta name="generator" content="PhpED 6.0">
		<meta name="description" content="">
		<meta name="keywords" content="">
		<meta name="creation-date" content="06/01/2011">
		<meta name="revisit-after" content="15 days">
		<title>Scroll Detection</title>
		<style>
			body {
				padding: 0;
				margin: 0
			}

			header {
				background: transparent url('http://adventure.nationalgeographic.com/2008/11/ecotourism/lodge-jungle.jpg') 0 0;
				height: 100px;
			}

			h4 {
				font-weight: bold;

			}

			p {
				margin: 20px 0;
			}

			section {
				padding: 20px 0;
			}

			.wrapper {
				width: 400px;
				margin: 0 auto;
				position: relative;
				padding: 28px 0 0 0;
				overflow-y: scroll;
				height: 400px;
			}

			nav {
				position: fixed;
				left: 0;
				right: 0;
				top: 0px;
				background: green;
				display: block;
				width: 100%;
				padding: 4px 0;
				height: 30px;
				z-index: 100;
			}

			nav a {
				font-family: helvetica;
				color: #ffffff;
				padding: 2px 4px;
				display: none;
				float: left;
				text-decoration: none;
				margin-right: 4px;
			}

			nav a:hover,
			nav a.active {
				background: white;
				color: green;
				display: block;
			}



			#top-menu li.active a {
				border-top: 3px solid #333;
				color: #333;
				font-weight: bold;
			}

			#foo {
				position: absolute;
				top: 400px;
			}

			#bar {
				position: absolute;
				top: 800px;
			}

			#baz {
				position: absolute;
				top: 1200px;
			}

		</style>
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script>
			$(document).ready(function(){
				$('nav a').on('click', function() {

					var scrollAnchor = $(this).attr('data-scroll'),
					scrollPoint = $('section[data-anchor="' + scrollAnchor + '"]').offset().top - 28;

					$('.body,html').animate({
						scrollTop: scrollPoint
						}, 500);

					return false;

				})


				$(".wrapper").scroll(function() {
					var windscroll = $(".wrapper").scrollTop();
					if (windscroll >= 100) {

						$('.wrapper section').each(function(i) {
							if ($(this).position().top <= windscroll - 20) {
								$('nav a.active').removeClass('active');
								$('nav a').eq(i).addClass('active');
								console.log($('nav a.active').html());
							}
						});

					} else {


						$('nav a.active').removeClass('active');
						$('nav a:first').addClass('active');
					}

				}).scroll();
			});
		</script>
	</head>
	<body>
		<nav>

			<a href="#" data-scroll="top">TOP</a>

			<a href="#" data-scroll="news">NEWS</a>

			<a href="#" data-scroll="products">PRODUCTS</a>

			<a href="#" data-scroll="contact">CONTACT</a>

		</nav>

		<div class="wrapper">

			<section id="top" data-anchor="top">

				<h4>TOP</h4>

				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat eleifend orci, eget aliquam dolor elementum vel. Aliquam eu nulla eros, et tincidunt felis. Pellentesque congue sodales eleifend. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nulla suscipit nulla vel nisi fermentum ultricies. Integer ligula elit, gravida ac pretium nec, eleifend ultrices purus. Duis cursus orci et urna accumsan tempor. Nunc mattis tincidunt nulla, id porta velit sollicitudin blandit.</p>

				<p>Duis vel augue quis elit ultrices fermentum ut eu risus. Mauris dictum nisl eget lorem pulvinar sit amet bibendum nunc scelerisque. Suspendisse ac libero magna, at imperdiet leo. Pellentesque vulputate venenatis vestibulum. Aenean varius turpis quis sem adipiscing volutpat. Fusce scelerisque iaculis augue, eget fringilla velit mattis nec. Maecenas sagittis dolor eget felis cursus imperdiet. Morbi ut dui libero. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque sit amet mi ac diam semper hendrerit a id tellus. Morbi accumsan magna sit amet velit ultricies ut dapibus justo rutrum. Ut et ante dui, vel pellentesque velit.</p>

			</section>

			<section id="news" data-anchor="news">

				<h4>NEWS</h4>

				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat eleifend orci, eget aliquam dolor elementum vel. Aliquam eu nulla eros, et tincidunt felis. Pellentesque congue sodales eleifend. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nulla suscipit nulla vel nisi fermentum ultricies. Integer ligula elit, gravida ac pretium nec, eleifend ultrices purus. Duis cursus orci et urna accumsan tempor. Nunc mattis tincidunt nulla, id porta velit sollicitudin blandit.</p>

				<p>Duis vel augue quis elit ultrices fermentum ut eu risus. Mauris dictum nisl eget lorem pulvinar sit amet bibendum nunc scelerisque. Suspendisse ac libero magna, at imperdiet leo. Pellentesque vulputate venenatis vestibulum. Aenean varius turpis quis sem adipiscing volutpat. Fusce scelerisque iaculis augue, eget fringilla velit mattis nec. Maecenas sagittis dolor eget felis cursus imperdiet. Morbi ut dui libero. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque sit amet mi ac diam semper hendrerit a id tellus. Morbi accumsan magna sit amet velit ultricies ut dapibus justo rutrum. Ut et ante dui, vel pellentesque velit.</p>

			</section>

			<section id="products" data-anchor="products">

				<h4>PRODUCTS</h4>

				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat eleifend orci, eget aliquam dolor elementum vel. Aliquam eu nulla eros, et tincidunt felis. Pellentesque congue sodales eleifend. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nulla suscipit nulla vel nisi fermentum ultricies. Integer ligula elit, gravida ac pretium nec, eleifend ultrices purus. Duis cursus orci et urna accumsan tempor. Nunc mattis tincidunt nulla, id porta velit sollicitudin blandit.</p>

				<p>Duis vel augue quis elit ultrices fermentum ut eu risus. Mauris dictum nisl eget lorem pulvinar sit amet bibendum nunc scelerisque. Suspendisse ac libero magna, at imperdiet leo. Pellentesque vulputate venenatis vestibulum. Aenean varius turpis quis sem adipiscing volutpat. Fusce scelerisque iaculis augue, eget fringilla velit mattis nec. Maecenas sagittis dolor eget felis cursus imperdiet. Morbi ut dui libero. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque sit amet mi ac diam semper hendrerit a id tellus. Morbi accumsan magna sit amet velit ultricies ut dapibus justo rutrum. Ut et ante dui, vel pellentesque velit.</p>

			</section>

			<section id="contact" data-anchor="contact">

				<h4>CONTACT</h4>

				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque feugiat eleifend orci, eget aliquam dolor elementum vel. Aliquam eu nulla eros, et tincidunt felis. Pellentesque congue sodales eleifend. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nulla suscipit nulla vel nisi fermentum ultricies. Integer ligula elit, gravida ac pretium nec, eleifend ultrices purus. Duis cursus orci et urna accumsan tempor. Nunc mattis tincidunt nulla, id porta velit sollicitudin blandit.</p>

				<p>Duis vel augue quis elit ultrices fermentum ut eu risus. Mauris dictum nisl eget lorem pulvinar sit amet bibendum nunc scelerisque. Suspendisse ac libero magna, at imperdiet leo. Pellentesque vulputate venenatis vestibulum. Aenean varius turpis quis sem adipiscing volutpat. Fusce scelerisque iaculis augue, eget fringilla velit mattis nec. Maecenas sagittis dolor eget felis cursus imperdiet. Morbi ut dui libero. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque sit amet mi ac diam semper hendrerit a id tellus. Morbi accumsan magna sit amet velit ultricies ut dapibus justo rutrum. Ut et ante dui, vel pellentesque velit.</p>

			</section>

		</div>


	</body>
</html>
